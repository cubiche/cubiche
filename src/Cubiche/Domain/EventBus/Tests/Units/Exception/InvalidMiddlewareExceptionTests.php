<?php

/**
 * This file is part of the Cubiche/EventBus component.
 *
 * Copyright (c) Cubiche
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
namespace Cubiche\Domain\EventBus\Tests\Units\Exception;

use Cubiche\Domain\EventBus\Tests\Units\TestCase;
use Cubiche\Domain\EventBus\Exception\InvalidMiddlewareException;
use Cubiche\Domain\EventBus\MiddlewareInterface;

/**
 * InvalidMiddlewareException class.
 *
 * Generated by TestGenerator on 2016-04-11 at 15:18:25.
 */
class InvalidMiddlewareExceptionTests extends TestCase
{
    /**
     * Test class.
     */
    public function testClass()
    {
        $this
            ->testedClass
                ->extends(\InvalidArgumentException::class)
        ;
    }

    /**
     * Test ForMiddleware method.
     */
    public function testForMiddleware()
    {
        $this
            ->given($cause = new \Exception('some cause'))
            ->when(
                $exception = InvalidMiddlewareException::forMiddleware(
                    new \StdClass(),
                    MiddlewareInterface::class,
                    $cause
                )
            )
            ->then
                ->object($exception)
                    ->isInstanceOf(InvalidMiddlewareException::class)
                ->integer($exception->getCode())
                    ->isEqualTo(0)
                ->object($exception->getPrevious())
                    ->isIdenticalTo($cause)
        ;

        $this
            ->given(
                $exception = InvalidMiddlewareException::forMiddleware(new \StdClass(), MiddlewareInterface::class)
            )
            ->then
                ->variable($exception->getPrevious())
                    ->isNull()
        ;
    }
}
